(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function D(){}const Ne=e=>e;function me(e){return e()}function re(){return Object.create(null)}function F(e){e.forEach(me)}function Z(e){return typeof e=="function"}function pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Y;function Se(e,t){return Y||(Y=document.createElement("a")),Y.href=t,e===Y.href}function ke(e){return Object.keys(e).length===0}function Pe(e){return e&&Z(e.destroy)?e.destroy:D}const ge=typeof window<"u";let xe=ge?()=>window.performance.now():()=>Date.now(),te=ge?e=>requestAnimationFrame(e):D;const S=new Set;function ye(e){S.forEach(t=>{t.c(e)||(S.delete(t),t.f())}),S.size!==0&&te(ye)}function ze(e){let t;return S.size===0&&te(ye),{promise:new Promise(n=>{S.add(t={c:e,f:n})}),abort(){S.delete(t)}}}function L(e,t){e.appendChild(t)}function ve(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function He(e){const t=T("style");return Re(ve(e),t),t.sheet}function Re(e,t){return L(e.head||e,t),t.sheet}function j(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function $e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function we(e){return document.createTextNode(e)}function U(){return we(" ")}function ie(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Fe(e){return function(t){return t.preventDefault(),e.call(this,t)}}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return Array.from(e.childNodes)}function We(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Ye(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,i,t),r}const J=new Map;let Q=0;function Ge(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function qe(e,t){const n={stylesheet:He(t),rules:{}};return J.set(e,n),n}function Xe(e,t,n,i,r,o,l,f=0){const h=16.666/i;let c=`{
`;for(let E=0;E<=1;E+=h){const y=t+(n-t)*o(E);c+=E*100+`%{${l(y,1-y)}}
`}const _=c+`100% {${l(n,1-n)}}
}`,a=`__svelte_${Ge(_)}_${f}`,d=ve(e),{stylesheet:v,rules:g}=J.get(d)||qe(d,e);g[a]||(g[a]=!0,v.insertRule(`@keyframes ${a} ${_}`,v.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${a} ${i}ms linear ${r}ms 1 both`,Q+=1,a}function oe(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),r=n.length-i.length;r&&(e.style.animation=i.join(", "),Q-=r,Q||Be())}function Be(){te(()=>{Q||(J.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)}),J.clear())})}let H;function z(e){H=e}function Ke(){if(!H)throw new Error("Function called outside component initialization");return H}function Ue(e){Ke().$$.on_mount.push(e)}const x=[],se=[],B=[],le=[],Je=Promise.resolve();let ee=!1;function Qe(){ee||(ee=!0,Je.then(Ee))}function R(e){B.push(e)}const C=new Set;let G=0;function Ee(){const e=H;do{for(;G<x.length;){const t=x[G];G++,z(t),Ve(t.$$)}for(z(null),x.length=0,G=0;se.length;)se.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];C.has(n)||(C.add(n),n())}B.length=0}while(x.length);for(;le.length;)le.pop()();ee=!1,C.clear(),z(e)}function Ve(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}let k;function Ze(){return k||(k=Promise.resolve(),k.then(()=>{k=null})),k}function ce(e,t,n){e.dispatchEvent(Ye(`${t?"intro":"outro"}${n}`))}const K=new Set;let Ce;function V(e,t){e&&e.i&&(K.delete(e),e.i(t))}function et(e,t,n,i){if(e&&e.o){if(K.has(e))return;K.add(e),Ce.c.push(()=>{K.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const tt={duration:0};function nt(e,t,n){const i={direction:"in"};let r=t(e,n,i),o=!1,l,f,h=0;function c(){l&&oe(e,l)}function _(){const{delay:d=0,duration:v=300,easing:g=Ne,tick:p=D,css:E}=r||tt;E&&(l=Xe(e,0,1,v,d,g,E,h++)),p(0,1);const y=xe()+d,s=y+v;f&&f.abort(),o=!0,R(()=>ce(e,!0,"start")),f=ze(u=>{if(o){if(u>=s)return p(1,0),ce(e,!0,"end"),c(),o=!1;if(u>=y){const m=g((u-y)/v);p(m,1-m)}}return o})}let a=!1;return{start(){a||(a=!0,oe(e),Z(r)?(r=r(i),Ze().then(_)):_())},invalidate(){a=!1},end(){o&&(c(),o=!1)}}}function rt(e,t){e.d(1),t.delete(e.key)}function it(e,t,n,i,r,o,l,f,h,c,_,a){let d=e.length,v=o.length,g=d;const p={};for(;g--;)p[e[g].key]=g;const E=[],y=new Map,s=new Map;for(g=v;g--;){const w=a(r,o,g),b=n(w);let O=l.get(b);O?i&&O.p(w,t):(O=c(b,w),O.c()),y.set(b,E[g]=O),b in p&&s.set(b,Math.abs(g-p[b]))}const u=new Set,m=new Set;function A(w){V(w,1),w.m(f,_),l.set(w.key,w),_=w.first,v--}for(;d&&v;){const w=E[v-1],b=e[d-1],O=w.key,N=b.key;w===b?(_=w.first,d--,v--):y.has(N)?!l.has(O)||u.has(O)?A(w):m.has(N)?d--:s.get(O)>s.get(N)?(m.add(O),A(w)):(u.add(N),d--):(h(b,l),d--)}for(;d--;){const w=e[d];y.has(w.key)||h(w,l)}for(;v;)A(E[v-1]);return E}function ot(e){e&&e.c()}function be(e,t,n,i){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),i||R(()=>{const l=e.$$.on_mount.map(me).filter(Z);e.$$.on_destroy?e.$$.on_destroy.push(...l):F(l),e.$$.on_mount=[]}),o.forEach(R)}function Ae(e,t){const n=e.$$;n.fragment!==null&&(F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function st(e,t){e.$$.dirty[0]===-1&&(x.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(e,t,n,i,r,o,l,f=[-1]){const h=H;z(e);const c=e.$$={fragment:null,ctx:[],props:o,update:D,not_equal:r,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:re(),dirty:f,skip_bound:!1,root:t.target||h.$$.root};l&&l(c.root);let _=!1;if(c.ctx=n?n(e,t.props||{},(a,d,...v)=>{const g=v.length?v[0]:d;return c.ctx&&r(c.ctx[a],c.ctx[a]=g)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](g),_&&st(e,a)),d}):[],c.update(),_=!0,F(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const a=je(t.target);c.fragment&&c.fragment.l(a),a.forEach(M)}else c.fragment&&c.fragment.c();t.intro&&V(e.$$.fragment),be(e,t.target,t.anchor,t.customElement),Ee()}z(h)}class Le{$destroy(){Ae(this,1),this.$destroy=D}$on(t,n){if(!Z(n))return D;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function lt(e){const t=e-1;return t*t*t+1}function ct(e,{delay:t=0,duration:n=400,easing:i=lt,start:r=0,opacity:o=0}={}){const l=getComputedStyle(e),f=+l.opacity,h=l.transform==="none"?"":l.transform,c=1-r,_=f*(1-o);return{delay:t,duration:n,easing:i,css:(a,d)=>`
			transform: ${h} scale(${1-c*d});
			opacity: ${f-_*d}
		`}}const ut=300,ft=60,Te="none";function P(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function at(e,t){return t.filter(n=>e.pointerId!==n.pointerId)}function q(e,t,n,i,r){e.dispatchEvent(new CustomEvent(`${t}${r}`,{detail:{event:n,pointersCount:i.length}}))}function dt(e,t,n,i,r,o=Te){t.style.touchAction=o;let l=[];function f(c){l.push(c),q(t,e,c,l,"down"),i==null||i(l,c);const _=c.pointerId;function a(y){_===y.pointerId&&(l=at(y,l),l.length||d(),q(t,e,y,l,"up"),r==null||r(l,y))}function d(){v(),g(),p(),E()}const v=P(t,"pointermove",y=>{l=l.map(s=>y.pointerId===s.pointerId?y:s),q(t,e,y,l,"move"),n==null||n(l,y)}),g=P(t,"lostpointercapture",y=>{a(y)}),p=P(t,"pointerup",y=>{a(y)}),E=P(t,"pointerleave",y=>{l=[],d(),q(t,e,y,l,"up"),r==null||r(l,y)})}const h=P(t,"pointerdown",f);return{destroy:()=>{h()}}}function ht(e,t={timeframe:ut,minSwipeDistance:ft,touchAction:Te}){const n="swipe";let i,r,o,l;function f(c,_){r=_.clientX,o=_.clientY,i=Date.now(),c.length===1&&(l=_.target)}function h(c,_){if(_.type==="pointerup"&&c.length===0&&Date.now()-i<t.timeframe){const a=_.clientX-r,d=_.clientY-o,v=Math.abs(a),g=Math.abs(d);let p=null;v>=2*g&&v>t.minSwipeDistance?p=a>0?"right":"left":g>=2*v&&g>t.minSwipeDistance&&(p=d>0?"bottom":"top"),p&&e.dispatchEvent(new CustomEvent(n,{detail:{direction:p,target:l}}))}}return dt(n,e,null,f,h,t.touchAction)}const _t="/assets/github-8ce36a01.svg";function ue(e,t,n){const i=e.slice();return i[1]=t[n].href,i[2]=t[n].svg,i}function fe(e){let t,n,i,r,o;return{c(){t=T("a"),n=T("li"),i=T("img"),o=U(),Se(i.src,r=e[2])||$(i,"src",r),$(i,"alt",""),$(i,"class","svelte-1p31fz5"),$(n,"class","svelte-1p31fz5"),$(t,"href",e[1]),$(t,"target","_blank"),$(t,"rel","noreferrer")},m(l,f){j(l,t,f),L(t,n),L(n,i),L(t,o)},p:D,d(l){l&&M(t)}}}function mt(e){let t,n,i=e[0],r=[];for(let o=0;o<i.length;o+=1)r[o]=fe(ue(e,i,o));return{c(){t=T("nav"),n=T("ul");for(let o=0;o<r.length;o+=1)r[o].c();$(n,"class","socials svelte-1p31fz5"),$(t,"class","svelte-1p31fz5")},m(o,l){j(o,t,l),L(t,n);for(let f=0;f<r.length;f+=1)r[f].m(n,null)},p(o,[l]){if(l&1){i=o[0];let f;for(f=0;f<i.length;f+=1){const h=ue(o,i,f);r[f]?r[f].p(h,l):(r[f]=fe(h),r[f].c(),r[f].m(n,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=i.length}},i:D,o:D,d(o){o&&M(t),$e(r,o)}}}function pt(e){return[[{href:"https://github.com/cheeem/2048",svg:_t}]]}class gt extends Le{constructor(t){super(),Oe(this,t,pt,mt,pe,{})}}function ae(e,t,n){const i=e.slice();return i[15]=t[n].value,i[16]=t[n].x,i[17]=t[n].y,i[18]=t[n].id,i}function de(e,t,n){const i=e.slice();return i[21]=t[n],i}function he(e){let t,n;return{c(){t=T("div"),$(t,"class","block space svelte-1rtp55l"),$(t,"style",n=`
          border-radius: ${e[3]/1.5}em;
        `)},m(i,r){j(i,t,r)},p(i,r){r&8&&n!==(n=`
          border-radius: ${i[3]/1.5}em;
        `)&&$(t,"style",n)},d(i){i&&M(t)}}}function _e(e,t){let n,i,r=t[15]+"",o,l,f,h,c;return{key:e,first:null,c(){n=T("div"),i=T("div"),o=we(r),f=U(),$(i,"class","label svelte-1rtp55l"),$(i,"style",l=`
          font-size: ${t[2]/(2.5+Math.floor(t[15]/10)/200)}em
        `),$(n,"class","block value svelte-1rtp55l"),$(n,"style",h=`
        top: ${t[17]*(t[2]+t[3])}em;
        left: ${t[16]*(t[2]+t[3])}em;
        background-color: var(--color${Math.log2(t[15])%X+1}-07);
        border: 0.2em solid var(--color${Math.log2(t[15])%X+1});
        border-radius: ${t[3]/1.5}em;
      `),this.first=n},m(_,a){j(_,n,a),L(n,i),L(i,o),L(n,f)},p(_,a){t=_,a&2&&r!==(r=t[15]+"")&&We(o,r),a&6&&l!==(l=`
          font-size: ${t[2]/(2.5+Math.floor(t[15]/10)/200)}em
        `)&&$(i,"style",l),a&14&&h!==(h=`
        top: ${t[17]*(t[2]+t[3])}em;
        left: ${t[16]*(t[2]+t[3])}em;
        background-color: var(--color${Math.log2(t[15])%X+1}-07);
        border: 0.2em solid var(--color${Math.log2(t[15])%X+1});
        border-radius: ${t[3]/1.5}em;
      `)&&$(n,"style",h)},i(_){c||R(()=>{c=nt(n,ct,{}),c.start()})},o:D,d(_){_&&M(n)}}}function yt(e){let t,n,i,r,o,l,f,h=[],c=new Map,_,a,d,v;n=new gt({});let g={length:e[0]**2},p=[];for(let s=0;s<g.length;s+=1)p[s]=he(de(e,g,s));let E=Object.values(e[1]);const y=s=>s[18];for(let s=0;s<E.length;s+=1){let u=ae(e,E,s),m=y(u);c.set(m,h[s]=_e(m,u))}return{c(){t=T("main"),ot(n.$$.fragment),i=U(),r=T("div"),o=T("div");for(let s=0;s<p.length;s+=1)p[s].c();f=U();for(let s=0;s<h.length;s+=1)h[s].c();$(o,"class","grid svelte-1rtp55l"),$(o,"style",l=`
      grid-template-columns: repeat(${e[0]}, 1fr)
    `),$(r,"class","board svelte-1rtp55l"),$(r,"style",_=`
    --block-size: ${e[2]}em;
    --gap: ${e[3]}em;
  `),$(t,"class","svelte-1rtp55l")},m(s,u){j(s,t,u),be(n,t,null),L(t,i),L(t,r),L(r,o);for(let m=0;m<p.length;m+=1)p[m].m(o,null);L(r,f);for(let m=0;m<h.length;m+=1)h[m].m(r,null);a=!0,d||(v=[ie(window,"keydown",Fe(e[4])),Pe(ht.call(null,t,{timeframe:1e3,minSwipeDistance:10,touchAction:"none"})),ie(t,"swipe",e[4])],d=!0)},p(s,[u]){if(u&9){g={length:s[0]**2};let m;for(m=0;m<g.length;m+=1){const A=de(s,g,m);p[m]?p[m].p(A,u):(p[m]=he(A),p[m].c(),p[m].m(o,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=g.length}(!a||u&1&&l!==(l=`
      grid-template-columns: repeat(${s[0]}, 1fr)
    `))&&$(o,"style",l),u&14&&(E=Object.values(s[1]),h=it(h,u,y,1,s,E,c,r,rt,_e,null,ae)),(!a||u&12&&_!==(_=`
    --block-size: ${s[2]}em;
    --gap: ${s[3]}em;
  `))&&$(r,"style",_)},i(s){if(!a){V(n.$$.fragment,s);for(let u=0;u<E.length;u+=1)V(h[u]);a=!0}},o(s){et(n.$$.fragment,s),a=!1},d(s){s&&M(t),Ae(n),$e(p,s);for(let u=0;u<h.length;u+=1)h[u].d();d=!1,F(v)}}}let X=7,vt=2;function $t(e,t,n){let i,r,o,l,f,h,c=3,_=5,a=3,d={};const v=(s,u)=>Math.floor(Math.random()*(u-s+1)+s),g=()=>{n(1,d={});for(let s=0;s<vt;s++)f(Object.values(d))},p=()=>{a&&(_+=a,n(0,c++,c),a--)},E={ArrowUp:"UP",ArrowDown:"DOWN",ArrowLeft:"LEFT",ArrowRight:"RIGHT",w:"UP",s:"DOWN",a:"LEFT",d:"RIGHT",top:"UP",bottom:"DOWN",left:"LEFT",right:"RIGHT"},y=s=>{const u=s.detail.direction??s.key;if(!E[u])return;let m=h(E[u]);n(1,d={...d});const A=Object.values(d);if(A.length===c**2)return g();A.some(({value:w})=>Math.log2(w)===_)&&p(),m&&f(A)};return Ue(g),e.$$.update=()=>{e.$$.dirty&1&&n(2,i=12/c),e.$$.dirty&4&&n(3,r=i/5),e.$$.dirty&1&&n(6,o={UP:(s,u)=>s.x*c+s.y-(u.x*c+u.y),DOWN:(s,u)=>u.x*c+u.y-(s.x*c+s.y),RIGHT:(s,u)=>u.x+u.y*c-(s.x+s.y*c),LEFT:(s,u)=>s.x+s.y*c-(u.x+u.y*c)}),e.$$.dirty&1&&n(5,l={UP:{main_axis:"y",cross_axis:"x",increment:-1,limit:0},DOWN:{main_axis:"y",cross_axis:"x",increment:1,limit:c-1},LEFT:{main_axis:"x",cross_axis:"y",increment:-1,limit:0},RIGHT:{main_axis:"x",cross_axis:"y",increment:1,limit:c-1}}),e.$$.dirty&3&&(f=s=>{let u=0;do u=Math.random();while(d[u]);let m=0,A=0;do m=v(0,c-1),A=v(0,c-1);while(s.some(b=>b.x===m&&b.y===A));let w=v(0,9)?2:4;n(1,d[u]={id:u,x:m,y:A,value:w},d)}),e.$$.dirty&98&&(h=s=>{let u=!1;return Object.values(d).sort(o[s]).forEach((m,A,w)=>{const{main_axis:b,cross_axis:O,increment:N,limit:De}=l[s];for(;;){let{[b]:W,[O]:Ie,value:Me}=m;if(W===De)return;W+=N;const I=w[A-1],ne=W===(I==null?void 0:I[b])&&Ie===(I==null?void 0:I[O]);if(ne&&Me!==I.value)return;if(m[b]=W,u=!0,!!ne){delete d[I.id],m.value*=2;return}}}),u})},[c,d,i,r,y,l,o]}class wt extends Le{constructor(t){super(),Oe(this,t,$t,yt,pe,{})}}new wt({target:document.getElementById("app")});
