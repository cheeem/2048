(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();function S(){}const Te=e=>e;function we(e){return e()}function le(){return Object.create(null)}function q(e){e.forEach(we)}function C(e){return typeof e=="function"}function De(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let B;function Ie(e,t){return B||(B=document.createElement("a")),B.href=t,e===B.href}function Se(e){return Object.keys(e).length===0}function Me(e){return e&&C(e.destroy)?e.destroy:S}const $e=typeof window<"u";let Ne=$e?()=>window.performance.now():()=>Date.now(),re=$e?e=>requestAnimationFrame(e):S;const P=new Set;function Ee(e){P.forEach(t=>{t.c(e)||(P.delete(t),t.f())}),P.size!==0&&re(Ee)}function Pe(e){let t;return P.size===0&&re(Ee),{promise:new Promise(n=>{P.add(t={c:e,f:n})}),abort(){P.delete(t)}}}function L(e,t){e.appendChild(t)}function be(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function He(e){const t=I("style");return Re(be(e),t),t.sheet}function Re(e,t){return L(e.head||e,t),t.sheet}function ee(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function ce(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function x(){return z(" ")}function ue(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Fe(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ze(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}const V=new Map;let Z=0;function xe(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function We(e,t){const n={stylesheet:He(t),rules:{}};return V.set(e,n),n}function Ye(e,t,n,o,r,c,i,w=0){const v=16.666/o;let l=`{
`;for(let A=0;A<=1;A+=v){const y=t+(n-t)*c(A);l+=A*100+`%{${i(y,1-y)}}
`}const a=l+`100% {${i(n,1-n)}}
}`,f=`__svelte_${xe(a)}_${w}`,p=be(e),{stylesheet:_,rules:m}=V.get(p)||We(p,e);m[f]||(m[f]=!0,_.insertRule(`@keyframes ${f} ${a}`,_.cssRules.length));const k=e.style.animation||"";return e.style.animation=`${k?`${k}, `:""}${f} ${o}ms linear ${r}ms 1 both`,Z+=1,f}function ae(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?c=>c.indexOf(t)<0:c=>c.indexOf("__svelte")===-1),r=n.length-o.length;r&&(e.style.animation=o.join(", "),Z-=r,Z||Ge())}function Ge(){re(()=>{Z||(V.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&H(t)}),V.clear())})}let Y;function W(e){Y=e}function qe(){if(!Y)throw new Error("Function called outside component initialization");return Y}function Xe(e){qe().$$.on_mount.push(e)}const j=[],fe=[],Q=[],de=[],Be=Promise.resolve();let oe=!1;function Ke(){oe||(oe=!0,Be.then(ke))}function G(e){Q.push(e)}const te=new Set;let K=0;function ke(){const e=Y;do{for(;K<j.length;){const t=j[K];K++,W(t),Ue(t.$$)}for(W(null),j.length=0,K=0;fe.length;)fe.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];te.has(n)||(te.add(n),n())}Q.length=0}while(j.length);for(;de.length;)de.pop()();oe=!1,te.clear(),W(e)}function Ue(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}let R;function Je(){return R||(R=Promise.resolve(),R.then(()=>{R=null})),R}function he(e,t,n){e.dispatchEvent(ze(`${t?"intro":"outro"}${n}`))}const Qe=new Set;function ie(e,t){e&&e.i&&(Qe.delete(e),e.i(t))}const Ve={duration:0};function Ze(e,t,n){const o={direction:"in"};let r=t(e,n,o),c=!1,i,w,v=0;function l(){i&&ae(e,i)}function a(){const{delay:p=0,duration:_=300,easing:m=Te,tick:k=S,css:A}=r||Ve;A&&(i=Ye(e,0,1,_,p,m,A,v++)),k(0,1);const y=Ne()+p,D=y+_;w&&w.abort(),c=!0,G(()=>he(e,!0,"start")),w=Pe(T=>{if(c){if(T>=D)return k(1,0),he(e,!0,"end"),l(),c=!1;if(T>=y){const u=m((T-y)/_);k(u,1-u)}}return c})}let f=!1;return{start(){f||(f=!0,ae(e),C(r)?(r=r(o),Je().then(a)):a())},invalidate(){f=!1},end(){c&&(l(),c=!1)}}}function Ce(e,t){e.d(1),t.delete(e.key)}function et(e,t,n,o,r,c,i,w,v,l,a,f){let p=e.length,_=c.length,m=p;const k={};for(;m--;)k[e[m].key]=m;const A=[],y=new Map,D=new Map;for(m=_;m--;){const d=f(r,c,m),$=n(d);let O=i.get($);O?o&&O.p(d,t):(O=l($,d),O.c()),y.set($,A[m]=O),$ in k&&D.set($,Math.abs(m-k[$]))}const T=new Set,u=new Set;function g(d){ie(d,1),d.m(w,a),i.set(d.key,d),a=d.first,_--}for(;p&&_;){const d=A[_-1],$=e[p-1],O=d.key,s=$.key;d===$?(a=d.first,p--,_--):y.has(s)?!i.has(O)||T.has(O)?g(d):u.has(s)?p--:D.get(O)>D.get(s)?(u.add(O),g(d)):(T.add(s),p--):(v($,i),p--)}for(;p--;){const d=e[p];y.has(d.key)||v(d,i)}for(;_;)g(A[_-1]);return A}function tt(e,t,n,o){const{fragment:r,after_update:c}=e.$$;r&&r.m(t,n),o||G(()=>{const i=e.$$.on_mount.map(we).filter(C);e.$$.on_destroy?e.$$.on_destroy.push(...i):q(i),e.$$.on_mount=[]}),c.forEach(G)}function nt(e,t){const n=e.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,t){e.$$.dirty[0]===-1&&(j.push(e),Ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rt(e,t,n,o,r,c,i,w=[-1]){const v=Y;W(e);const l=e.$$={fragment:null,ctx:[],props:c,update:S,not_equal:r,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(v?v.$$.context:[])),callbacks:le(),dirty:w,skip_bound:!1,root:t.target||v.$$.root};i&&i(l.root);let a=!1;if(l.ctx=n?n(e,t.props||{},(f,p,..._)=>{const m=_.length?_[0]:p;return l.ctx&&r(l.ctx[f],l.ctx[f]=m)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](m),a&&ot(e,f)),p}):[],l.update(),a=!0,q(l.before_update),l.fragment=o?o(l.ctx):!1,t.target){if(t.hydrate){const f=je(t.target);l.fragment&&l.fragment.l(f),f.forEach(H)}else l.fragment&&l.fragment.c();t.intro&&ie(e.$$.fragment),tt(e,t.target,t.anchor,t.customElement),ke()}W(v)}class it{$destroy(){nt(this,1),this.$destroy=S}$on(t,n){if(!C(n))return S;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!Se(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st="/assets/github-8ce36a01.svg";function lt(e){const t=e-1;return t*t*t+1}function ct(e,{delay:t=0,duration:n=400,easing:o=lt,start:r=0,opacity:c=0}={}){const i=getComputedStyle(e),w=+i.opacity,v=i.transform==="none"?"":i.transform,l=1-r,a=w*(1-c);return{delay:t,duration:n,easing:o,css:(f,p)=>`
			transform: ${v} scale(${1-l*p});
			opacity: ${w-a*p}
		`}}const ut=300,at=60,Ae="none";function F(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function ft(e,t){return t.filter(n=>e.pointerId!==n.pointerId)}function U(e,t,n,o,r){e.dispatchEvent(new CustomEvent(`${t}${r}`,{detail:{event:n,pointersCount:o.length}}))}function dt(e,t,n,o,r,c=Ae){t.style.touchAction=c;let i=[];function w(l){i.push(l),U(t,e,l,i,"down"),o==null||o(i,l);const a=l.pointerId;function f(y){a===y.pointerId&&(i=ft(y,i),i.length||p(),U(t,e,y,i,"up"),r==null||r(i,y))}function p(){_(),m(),k(),A()}const _=F(t,"pointermove",y=>{i=i.map(D=>y.pointerId===D.pointerId?y:D),U(t,e,y,i,"move"),n==null||n(i,y)}),m=F(t,"lostpointercapture",y=>{f(y)}),k=F(t,"pointerup",y=>{f(y)}),A=F(t,"pointerleave",y=>{i=[],p(),U(t,e,y,i,"up"),r==null||r(i,y)})}const v=F(t,"pointerdown",w);return{destroy:()=>{v()}}}function ht(e,t={timeframe:ut,minSwipeDistance:at,touchAction:Ae}){const n="swipe";let o,r,c,i;function w(l,a){r=a.clientX,c=a.clientY,o=Date.now(),l.length===1&&(i=a.target)}function v(l,a){if(a.type==="pointerup"&&l.length===0&&Date.now()-o<t.timeframe){const f=a.clientX-r,p=a.clientY-c,_=Math.abs(f),m=Math.abs(p);let k=null;_>=2*m&&_>t.minSwipeDistance?k=f>0?"right":"left":m>=2*_&&m>t.minSwipeDistance&&(k=p>0?"bottom":"top"),k&&e.dispatchEvent(new CustomEvent(n,{detail:{direction:k,target:i}}))}}return dt(n,e,null,w,v,t.touchAction)}function _e(e,t,n){const o=e.slice();return o[17]=t[n].value,o[18]=t[n].x,o[19]=t[n].y,o[20]=t[n].id,o}function me(e,t,n){const o=e.slice();return o[23]=t[n],o}function pe(e,t,n){const o=e.slice();return o[26]=t[n].href,o[27]=t[n].svg,o}function ge(e){let t,n,o,r,c;return{c(){t=I("a"),n=I("li"),o=I("img"),c=x(),Ie(o.src,r=e[27])||b(o,"src",r),b(o,"alt",""),b(o,"class","svelte-1doaa22"),b(n,"class","svelte-1doaa22"),b(t,"href",e[26]),b(t,"target","_blank"),b(t,"rel","noreferrer")},m(i,w){ee(i,t,w),L(t,n),L(n,o),L(t,c)},p:S,d(i){i&&H(t)}}}function ye(e){let t,n;return{c(){t=I("div"),b(t,"class","block space svelte-1doaa22"),b(t,"style",n=`
          border-radius: ${e[5]/1.5}em;
        `)},m(o,r){ee(o,t,r)},p(o,r){r&32&&n!==(n=`
          border-radius: ${o[5]/1.5}em;
        `)&&b(t,"style",n)},d(o){o&&H(t)}}}function ve(e,t){let n,o,r=t[17]+"",c,i,w,v,l;return{key:e,first:null,c(){n=I("div"),o=I("div"),c=z(r),w=x(),b(o,"class","label svelte-1doaa22"),b(o,"style",i=`
          font-size: ${t[2]/(2.5+Math.floor(t[17]/10)/200)}em
        `),b(n,"class","block value svelte-1doaa22"),b(n,"style",v=`
        top: ${t[19]*(t[2]+t[5])}em;
        left: ${t[18]*(t[2]+t[5])}em;
        background-color: var(--color${Math.log2(t[17])%J+1}-07);
        border: 0.2em solid var(--color${Math.log2(t[17])%J+1});
        border-radius: ${t[5]/1.5}em;
      `),this.first=n},m(a,f){ee(a,n,f),L(n,o),L(o,c),L(n,w)},p(a,f){t=a,f&2&&r!==(r=t[17]+"")&&ne(c,r),f&6&&i!==(i=`
          font-size: ${t[2]/(2.5+Math.floor(t[17]/10)/200)}em
        `)&&b(o,"style",i),f&38&&v!==(v=`
        top: ${t[19]*(t[2]+t[5])}em;
        left: ${t[18]*(t[2]+t[5])}em;
        background-color: var(--color${Math.log2(t[17])%J+1}-07);
        border: 0.2em solid var(--color${Math.log2(t[17])%J+1});
        border-radius: ${t[5]/1.5}em;
      `)&&b(n,"style",v)},i(a){l||G(()=>{l=Ze(n,ct,{}),l.start()})},o:S,d(a){a&&H(n)}}}function _t(e){let t,n,o,r,c,i,w,v,l,a,f,p,_,m=[],k=new Map,A,y,D,T=e[7],u=[];for(let s=0;s<T.length;s+=1)u[s]=ge(pe(e,T,s));let g={length:e[0]**2},d=[];for(let s=0;s<g.length;s+=1)d[s]=ye(me(e,g,s));let $=Object.values(e[1]);const O=s=>s[20];for(let s=0;s<$.length;s+=1){let E=_e(e,$,s),h=O(E);k.set(h,m[s]=ve(h,E))}return{c(){t=I("main"),n=I("nav"),o=I("div"),r=z(e[3]),c=z(" / "),i=z(e[4]),w=x(),v=I("ul");for(let s=0;s<u.length;s+=1)u[s].c();l=x(),a=I("div"),f=I("div");for(let s=0;s<d.length;s+=1)d[s].c();_=x();for(let s=0;s<m.length;s+=1)m[s].c();b(o,"class","exponent-goal svelte-1doaa22"),b(v,"class","socials svelte-1doaa22"),b(n,"class","svelte-1doaa22"),b(f,"class","grid svelte-1doaa22"),b(f,"style",p=`
      grid-template-columns: repeat(${e[0]}, 1fr)
    `),b(a,"class","board svelte-1doaa22"),b(a,"style",A=`
    --block-size: ${e[2]}em;
    --gap: ${e[5]}em;
  `),b(t,"class","svelte-1doaa22")},m(s,E){ee(s,t,E),L(t,n),L(n,o),L(o,r),L(o,c),L(o,i),L(n,w),L(n,v);for(let h=0;h<u.length;h+=1)u[h].m(v,null);L(t,l),L(t,a),L(a,f);for(let h=0;h<d.length;h+=1)d[h].m(f,null);L(a,_);for(let h=0;h<m.length;h+=1)m[h].m(a,null);y||(D=[ue(window,"keydown",Fe(e[6])),Me(ht.call(null,t,{timeframe:1e3,minSwipeDistance:10,touchAction:"none"})),ue(t,"swipe",e[6])],y=!0)},p(s,[E]){if(E&8&&ne(r,s[3]),E&16&&ne(i,s[4]),E&128){T=s[7];let h;for(h=0;h<T.length;h+=1){const N=pe(s,T,h);u[h]?u[h].p(N,E):(u[h]=ge(N),u[h].c(),u[h].m(v,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=T.length}if(E&33){g={length:s[0]**2};let h;for(h=0;h<g.length;h+=1){const N=me(s,g,h);d[h]?d[h].p(N,E):(d[h]=ye(N),d[h].c(),d[h].m(f,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=g.length}E&1&&p!==(p=`
      grid-template-columns: repeat(${s[0]}, 1fr)
    `)&&b(f,"style",p),E&38&&($=Object.values(s[1]),m=et(m,E,O,1,s,$,k,a,Ce,ve,null,_e)),E&36&&A!==(A=`
    --block-size: ${s[2]}em;
    --gap: ${s[5]}em;
  `)&&b(a,"style",A)},i(s){for(let E=0;E<$.length;E+=1)ie(m[E])},o:S,d(s){s&&H(t),ce(u,s),ce(d,s);for(let E=0;E<m.length;E+=1)m[E].d();y=!1,q(D)}}}let J=7,mt=2;function pt(e,t,n){let o,r,c,i,w,v,l=3,a=2,f=32,p=3,_={};const m=(u,g)=>Math.floor(Math.random()*(g-u+1)+u),k=()=>{n(1,_={});for(let u=0;u<mt;u++)w(Object.values(_))},A=()=>{p&&(n(4,f*=2**p),n(0,l++,l),p--)},y={ArrowUp:"UP",ArrowDown:"DOWN",ArrowLeft:"LEFT",ArrowRight:"RIGHT",w:"UP",s:"DOWN",a:"LEFT",d:"RIGHT",top:"UP",bottom:"DOWN",left:"LEFT",right:"RIGHT"},D=u=>{const g=u.detail.direction??u.key;if(!y[g])return;let d=v(y[g]);n(1,_={..._});const $=Object.values(_);if($.length===l**2)return k();n(3,a=$.reduce((O,{value:s})=>O<s?s:O,2)),a===f&&A(),d&&w($)};Xe(k);const T=[{href:"https://github.com/cheeem/2048",svg:st}];return e.$$.update=()=>{e.$$.dirty&1&&n(2,o=12/l),e.$$.dirty&4&&n(5,r=o/5),e.$$.dirty&1&&n(9,c={UP:(u,g)=>u.x*l+u.y-(g.x*l+g.y),DOWN:(u,g)=>g.x*l+g.y-(u.x*l+u.y),RIGHT:(u,g)=>g.x+g.y*l-(u.x+u.y*l),LEFT:(u,g)=>u.x+u.y*l-(g.x+g.y*l)}),e.$$.dirty&1&&n(8,i={UP:{main_axis:"y",cross_axis:"x",increment:-1,limit:0},DOWN:{main_axis:"y",cross_axis:"x",increment:1,limit:l-1},LEFT:{main_axis:"x",cross_axis:"y",increment:-1,limit:0},RIGHT:{main_axis:"x",cross_axis:"y",increment:1,limit:l-1}}),e.$$.dirty&3&&(w=u=>{let g=0;do g=Math.random();while(_[g]);let d=0,$=0;do d=m(0,l-1),$=m(0,l-1);while(u.some(s=>s.x===d&&s.y===$));let O=!m(0,9)&&u.length?4:2;n(1,_[g]={id:g,x:d,y:$,value:O},_)}),e.$$.dirty&770&&(v=u=>{let g=!1;return Object.values(_).sort(c[u]).forEach((d,$,O)=>{const{main_axis:s,cross_axis:E,increment:h,limit:N}=i[u];for(;;){let{[s]:X,[E]:Oe,value:Le}=d;if(X===N)return;X+=h;const M=O[$-1],se=X===(M==null?void 0:M[s])&&Oe===(M==null?void 0:M[E]);if(se&&Le!==M.value)return;if(d[s]=X,g=!0,!!se){delete _[M.id],d.value*=2;return}}}),g})},[l,_,o,a,f,r,D,T,i,c]}class gt extends it{constructor(t){super(),rt(this,t,pt,_t,De,{})}}new gt({target:document.getElementById("app")});
